package gamecore.project;

import gamecore.project.csvs.CsvUtils;
import gamecore.project.dao.ConfiguracaoServidorDAO;
import gamecore.project.database.Connection;
import gamecore.project.entity.ConfiguracaoServidor;
import gamecore.project.entity.Layout;
import org.springframework.jdbc.core.JdbcTemplate;

import java.util.ArrayList;
import java.util.List;

public class ClasseTeste {
    public static void main(String[] args) {
        Connection connection = new Connection();
        JdbcTemplate con = new JdbcTemplate(connection.getDataSource());
        ConfiguracaoServidorDAO csd = new ConfiguracaoServidorDAO(con);
        CsvUtils csvUtils = new CsvUtils();


        String[] csvMockado = {
                // Cabeçalho (não modificado)
                "macadress;timestamp;cpu_porcentagem;cpu_ociosa_porcentagem;cpu_usuarios_porcentagem;cpu_sistema_porcentagem;cpu_loadavg;cpu_freq_mhz;cpu_freq_min_mhz;cpu_freq_max_mhz;ram_porcentagem;ram_mb;ram_gb;ram_disp_porcentagem;ram_disp_mb;ram_disp_gb;ram_swap_porcentagem;ram_swap_mb;ram_swap_gb;disco_porcentagem;disco_mb;disco_gb;disco_livre_porcentagem;disco_livre_mb;disco_livre_gb;disco_throughput_mbs;disco_throughput_gbs;rede_enviados_mb_;rede_recebidos_mb;temperatura_cpu",
// Linha 1: CPU ALTA (65.2%) | Novo Tempo: 22:14:57 (Início - Aprox. 6 min atrás)
                "34:60:f9:55:51:71;2025-11-27 22:14:57;65.2;34.8;27.8;11.1;(5.44384765625, 2.65087890625, 1.6630859375);4030.8;1109.83;4386.47;72.8;5214.75;5.09;27.24;1952.05;1.91;70.3;1439.49;1.41;30.4;68809.32;67.2;66.07;157766.74;154.07;0.0;0.0;22.093257904052734;87.60371112823486;62.27",
// Linha 2: CPU ALTA (80.5%) | Novo Tempo: 22:15:13
                "34:60:f9:55:51:71;2025-11-27 22:15:13;80.5;19.5;14.6;4.4;(6.3056640625, 2.978515625, 1.78662109375);3030.05;1109.83;4386.47;77.5;5554.57;5.42;22.5;1612.23;1.57;70.9;1451.28;1.42;30.4;68810.83;67.2;66.07;157765.23;154.07;18.3;0.02;22.145310401916504;87.77358055114746;56.73",
// Linha 3: CPU ALTA (72.1%) | Novo Tempo: 22:15:31
                "34:60:f9:55:51:71;2025-11-27 22:15:31;72.1;27.9;14.0;3.0;(6.96728515625, 3.3515625, 1.93603515625);2503.66;1109.83;4386.47;80.9;5800.35;5.66;19.07;1366.45;1.33;75.1;1537.33;1.5;30.4;68810.98;67.2;66.07;157765.08;154.07;7.73;0.01;22.15333366394043;87.95567035675049;51.41",
// Linha 4: CPU ALTA (91.8%) | Novo Tempo: 22:15:48
                "34:60:f9:55:51:71;2025-11-27 22:15:48;91.8;8.2;13.0;3.2;(7.57177734375, 3.662109375, 2.060546875);2592.83;1109.83;4386.47;83.4;5976.79;5.84;16.6;1190.01;1.16;75.1;1538.62;1.5;30.4;68811.17;67.2;66.07;157764.89;154.07;3.45;0.0;22.22776985168457;88.1658525466919;55.34",
// Linha 5: CPU ALTA (58.7%) | Novo Tempo: 22:16:11
                "34:60:f9:55:51:71;2025-11-27 22:16:11;58.7;41.3;12.0;4.2;(7.93505859375, 4.0732421875, 2.24072265625);2740.27;1109.83;4386.47;82.9;5943.4;5.8;17.07;1223.4;1.19;82.9;1697.35;1.66;30.4;68811.43;67.2;66.07;157764.62;154.07;16.64;0.02;22.23557186126709;88.39907932281494;45.55",
// Linha 6: CPU ALTA (77.0%) | Novo Tempo: 22:16:34
                "34:60:f9:55:51:71;2025-11-27 22:16:34;77.0;23.0;12.7;4.0;(7.28662109375, 4.1806640625, 2.31640625);2657.39;1109.83;4386.47;82.4;5907.03;5.77;17.58;1259.77;1.23;82.8;1695.73;1.66;30.3;68611.7;67.0;66.16;157964.36;154.26;3.36;0.0;22.30130672454834;88.64391994476318;46.98",
// Linha 7: CPU ALTA (95.1%) | Novo Tempo: 22:16:53
                "34:60:f9:55:51:71;2025-11-27 22:16:53;95.1;4.9;10.3;7.2;(5.705078125, 4.02197265625, 2.30322265625);2481.66;1109.83;4386.47;81.1;5815.66;5.68;18.85;1351.14;1.32;83.2;1703.05;1.66;30.3;68611.92;67.0;66.16;157964.14;154.26;4.36;0.0;22.377280235290527;88.86763191223145;49.03",
// Linha 8: CPU ALTA (60.9%) | Novo Tempo: 22:17:06
                "34:60:f9:55:51:71;2025-11-27 22:17:06;60.9;39.1;14.8;14.8;(4.72998046875, 3.8896484375, 2.28662109375);3831.19;1109.83;4386.47;82.0;5877.46;5.74;17.99;1289.34;1.26;83.1;1702.58;1.66;30.3;68612.1;67.0;66.16;157963.96;154.26;0.13;0.0;22.526748657226562;89.06638813018799;64.58",
// Linha 9: CPU ALTA (88.5%) | Novo Tempo: 22:17:33
                "34:60:f9:55:51:71;2025-11-27 22:17:33;88.5;11.5;6.0;10.5;(3.9853515625, 3.78466796875, 2.29345703125);3110.47;1109.83;4386.47;81.8;5859.59;5.72;18.24;1307.21;1.28;84.6;1731.89;1.69;30.4;68812.25;67.2;66.07;157763.81;154.07;14.15;0.01;22.9244384765625;89.39831066131592;59.86",
// Linha 10: CPU ALTA (74.3%) | Novo Tempo: 22:18:09
                "34:60:f9:55:51:71;2025-11-27 22:18:09;74.3;25.7;4.9;10.6;(3.42724609375, 3.66552734375, 2.30859375);2487.66;1109.83;4386.47;82.2;5889.41;5.75;17.82;1277.39;1.25;84.1;1723.12;1.68;30.3;68612.39;67.0;66.16;157963.66;154.26;6.44;0.01;22.990469932556152;89.77921867370605;53.61",
// Linha 11: CPU ALTA (68.1%) | Novo Tempo: 22:18:32
                "34:60:f9:55:51:71;2025-11-27 22:18:32;68.1;31.9;33.7;16.0;(2.962890625, 3.544921875, 2.30517578125);4106.51;1109.83;4386.47;83.0;5951.87;5.81;16.95;1214.93;1.19;83.8;1717.22;1.68;30.3;68612.55;67.0;66.16;157963.51;154.26;0.0;0.0;23.105483055114746;90.13805675506592;59.56",
// Linha 12: CPU ALTA (99.0%) | Novo Tempo: 22:18:42
                "34:60:f9:55:51:71;2025-11-27 22:18:42;99.0;1.0;7.6;10.3;(3.13525390625, 3.560546875, 2.3232421875);3176.55;1109.83;4386.47;82.9;5939.91;5.8;17.12;1226.89;1.2;85.3;1747.34;1.71;30.3;68612.64;67.0;66.16;157963.42;154.26;11.98;0.01;23.14682102203369;90.2961950302124;52.92",
// Linha 13: CPU ALTA (63.5%) | Novo Tempo: 22:18:56
                "34:60:f9:55:51:71;2025-11-27 22:18:56;63.5;36.5;5.5;2.5;(2.82177734375, 3.46728515625, 2.3125);1561.4;1109.83;4386.47;82.1;5886.68;5.75;17.86;1280.12;1.25;85.2;1744.96;1.7;30.3;68612.72;67.0;66.16;157963.34;154.26;15.8;0.02;23.265811920166016;90.44633388519287;36.36",
// Linha 14: CPU ALTA (85.0%) | Novo Tempo: 22:19:07
                "34:60:f9:55:51:71;2025-11-27 22:19:07;85.0;15.0;5.8;9.6;(2.54150390625, 3.3857421875, 2.2978515625);3767.73;1109.83;4386.47;82.3;5899.02;5.76;17.69;1267.78;1.24;85.2;1744.3;1.7;30.2;68412.81;66.81;66.24;158163.25;154.46;0.47;0.0;23.28732681274414;90.58261394500732;51.23",
// Linha 15: CPU ALTA (70.4%) | Novo Tempo: 22:19:17
                "34:60:f9:55:51:71;2025-11-27 22:19:17;70.4;29.6;4.8;4.3;(2.22412109375, 3.2900390625, 2.27783203125);1831.58;1109.83;4386.47;82.3;5900.2;5.76;17.67;1266.6;1.24;85.2;1744.01;1.7;30.2;68412.88;66.81;66.24;158163.18;154.46;0.11;0.0;23.29480743408203;90.67724800109863;40.79",
// Linha 16: CPU ALTA (93.2%) | Novo Tempo: 22:19:25
                "34:60:f9:55:51:71;2025-11-27 22:19:25;93.2;6.8;5.2;3.4;(2.029296875, 3.2138671875, 2.26318359375);1738.47;1109.83;4386.47;82.4;5906.47;5.77;17.59;1260.33;1.23;85.1;1743.58;1.7;30.4;68812.98;67.2;66.07;157763.08;154.07;48.99;0.05;23.299701690673828;90.76605415344238;37.11",
// Linha 17: CPU ALTA (55.1%) | Novo Tempo: 22:19:37
                "34:60:f9:55:51:71;2025-11-27 22:19:37;55.1;44.9;4.5;2.4;(1.796875, 3.1240234375, 2.244140625);2118.8;1109.83;4386.47;82.4;5904.98;5.77;17.61;1261.82;1.23;85.1;1742.15;1.7;30.2;68413.07;66.81;66.24;158162.99;154.46;0.89;0.0;23.308374404907227;90.90063381195068;44.78",
// Linha 18: CPU ALTA (79.9%) | Novo Tempo: 22:19:50
                "34:60:f9:55:51:71;2025-11-27 22:19:50;79.9;20.1;6.5;10.8;(1.7001953125, 3.03564453125, 2.22900390625);2941.65;1109.83;4386.47;82.2;5890.8;5.75;17.8;1276.0;1.25;85.0;1741.21;1.7;30.2;68413.17;66.81;66.24;158162.89;154.46;0.17;0.0;23.331278800964355;91.03474617004395;52.62",

// Linha 19: CPU BAIXA (12.3%) | Novo Tempo: 22:20:06
                "34:60:f9:55:51:71;2025-11-27 22:20:06;12.3;87.7;5.5;11.0;(1.84130859375, 3.00048828125, 2.23046875);3375.12;1109.83;4386.47;82.3;5896.56;5.76;17.72;1270.24;1.24;85.0;1740.77;1.7;30.2;68413.2;66.81;66.24;158162.86;154.46;0.53;0.0;23.36920738220215;91.20388603210449;56.68",
// Linha 20: CPU BAIXA (8.6%) | Novo Tempo: 22:20:15
                "34:60:f9:55:51:71;2025-11-27 22:20:15;8.6;91.4;4.6;2.4;(1.779296875, 2.9501953125, 2.22265625);1805.91;1109.83;4386.47;82.3;5898.89;5.76;17.69;1267.91;1.24;85.0;1740.23;1.7;30.2;68413.32;66.81;66.24;158162.74;154.46;0.35;0.0;23.383875846862793;91.30685234069824;37.28",
// Linha 21: CPU BAIXA (14.5%) | Novo Tempo: 22:20:26
                "34:60:f9:55:51:71;2025-11-27 22:20:26;14.5;85.5;5.8;9.5;(2.0341796875, 2.9677734375, 2.236328125);2754.38;1109.83;4386.47;81.8;5865.27;5.73;18.16;1301.54;1.27;85.0;1740.14;1.7;30.2;68413.41;66.81;66.24;158162.64;154.46;0.12;0.0;23.395060539245605;91.42907238006592;55.65",
// Linha 22: CPU BAIXA (6.1%) | Novo Tempo: 22:20:45
                "34:60:f9:55:51:71;2025-11-27 22:20:45;6.1;93.9;6.4;8.5;(2.13671875, 2.9365234375, 2.2421875);2949.4;1109.83;4386.47;81.1;5811.61;5.68;18.91;1355.2;1.32;87.1;1783.32;1.74;30.2;68413.64;66.81;66.24;158162.42;154.46;11.41;0.01;23.411130905151367;91.6237964630127;49.26",
// Linha 23: CPU BAIXA (10.0%) | Novo Tempo: 22:21:00 (Fim - Data/Hora Atual)
                "34:60:f9:55:51:71;2025-11-27 22:21:00;10.0;90.0;4.8;8.0;(1.80419921875, 2.82470703125, 2.21630859375);2138.03;1109.83;4386.47;81.0;5803.21;5.67;19.03;1363.59;1.33;87.0;1781.84;1.74;30.2;68413.74;66.81;66.24;158162.32;154.46;0.18;0.0;23.421951293945312;91.77923011779785;60.16"
        };

        Layout layoutEmUso = csd.buscarLayoutPorFkLayout(1);
        List<ConfiguracaoServidor> configsLayoutEmUso = csd.buscarConfiguracaoLayout(layoutEmUso.getId());

        System.out.println("DADOS DA CONFIGURAÇÃO EM USO AGORA:");
        for (ConfiguracaoServidor cs : configsLayoutEmUso) {
            System.out.println(cs.toString());
        }

        csvUtils.readAndGetAlerts(csvMockado, configsLayoutEmUso);

    }
}
